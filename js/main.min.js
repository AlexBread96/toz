!function(){"use strict";const e={init(){window.addEventListener("resize",function(i){let t;function e(){const e=i.clientHeight;e!==t&&requestAnimationFrame(function(){i.style.setProperty("--vh",.01*e+"px"),t=e})}return e(),e}(document.documentElement));{const s=document.querySelector(".btn-scroll");var e=document.querySelector(".btn-quiz"),t=document.querySelectorAll("[data-scrollto]");let i;const o=window.fp=new fullpage("#fullpage",{licenseKey:"73438E6B-32424808-B5E93D50-0E3A4BE3",responsiveWidth:744,menu:"#menu",scrollOverflow:!1,controlArrows:!1,scrollingSpeed:500,credits:{enabled:!1},beforeLeave:function(e,i){s&&(s.classList.toggle("btn-scroll--texty","whois"===i.anchor),s.classList.toggle("btn-light","whois"!==i.anchor),s.classList.toggle("invisible","contacts"===i.anchor))},onSlideLeave:function(e,i,t){"quiz"===t.anchor&&window.Quiz&&window.Quiz.init()},afterResponsive:function(e){e&&(i=document.querySelector(".section--quiz").getBoundingClientRect().top+window.scrollY)}});o.setAllowScrolling(!1,"left, right"),o.setKeyboardScrolling(!1,"left, right"),s&&s.addEventListener("click",function(){o.moveSectionDown()}),e&&e.addEventListener("click",function(){o.moveSlideRight(),window.scrollTo({top:i,behavior:"smooth"})}),Array.prototype.slice.call(t).forEach(function(e){e.addEventListener("click",function(e){e=e.target.getAttribute("data-scrollto")||"hero";o.moveTo(e)})})}(e=document.querySelector(".parallax"))&&new Parallax(e),GLightbox({selector:".glightbox"})}},i={config:{body:document.body,nav:document.querySelector("#navigation"),navLinks:document.querySelectorAll("#menu .nav-link"),mql:window.matchMedia("(min-width: 744px)")},navHide(){new bootstrap.Collapse(this.config.nav,{hide:!0})},init(){this.config.nav&&(Array.prototype.slice.call(this.config.navLinks).forEach(e=>{e.addEventListener("click",()=>{this.config.mql.matches||this.navHide()})}),this.config.body.addEventListener("keyup",e=>{this.config.nav.classList.contains("show")&&"Escape"===e.key&&this.navHide()}),this.config.nav.addEventListener("show.bs.collapse",()=>{this.config.nav.classList.add("show"),this.config.body.classList.add("overflow-hidden")}),this.config.nav.addEventListener("hide.bs.collapse",()=>{this.config.body.classList.remove("overflow-hidden")}))}},t=window.Quiz={config:{body:document.body,sliderEl:document.querySelector(".quizz-slider"),slider:null,elements:document.querySelectorAll('.quizz-vars-item input[type="radio"]'),progress:document.querySelector(".quizz-progress .progress"),bar:document.querySelector(".quizz-progress .bar"),offsetProperty:"--offset",animatedClass:"animated",hiddenClass:"hidden",processClass:"page-quiz-process"},setOffset(e,i,t){i=323*Math.PI*((100-100*i/t)/100);e.style.setProperty(this.config.offsetProperty,i+"px")},init(){const i=this.config.sliderEl.querySelectorAll(".quizz-item").length;let t=!1;this.config.slider&&this.reset(),this.initSlider();const s=this.config.sliderEl.swiper;this.config.body.classList.add(this.config.processClass),Array.prototype.slice.call(this.config.elements).forEach(e=>{e.addEventListener("click",e=>{t&&e.preventDefault()}),e.addEventListener("change",e=>{t||s.destroyed?e.preventDefault():(this.config.sliderEl.classList.add("disabled"),t=!0,s.activeIndex+1<i?setTimeout(()=>{this.config.sliderEl.classList.remove("disabled"),this.setOffset(this.config.bar,s.activeIndex+1,i),s.slideNext(),t=!1},350):(this.config.body.classList.remove(this.config.processClass),this.config.progress.classList.add(this.config.animatedClass),this.setOffset(this.config.bar,s.activeIndex+1,i),this.config.sliderEl.classList.add(this.config.hiddenClass),(e=document.createElement("div")).className="quizz-waiter",e.textContent="Секунду, мы считаем твой результат! Пока можешь немного позаниматься творожной аэробикой.",this.config.sliderEl.parentNode.appendChild(e),setTimeout(()=>{document.querySelector(".quizz-waiter").classList.add("show")},350),setTimeout(()=>{this.config.sliderEl.classList.remove("disabled"),window.fp.moveSlideRight(),t=!1},4e3)))})})},initSlider(){this.config.slider=new Swiper(this.config.sliderEl,{allowTouchMove:!1,autoHeight:!0,pagination:{el:".quizz-pages",type:"fraction"}})},reset(){var e;this.config.progress.classList.remove(this.config.animatedClass),this.config.bar.style.removeProperty(this.config.offsetProperty),Array.prototype.slice.call(this.config.elements).forEach(e=>{e.checked=!1}),this.config.sliderEl.swiper&&((e=document.querySelector(".quizz-waiter"))&&e.remove(),this.config.sliderEl.swiper.destroy(),this.config.sliderEl.classList.remove(this.config.hiddenClass),this.config.slider=null)}};window.addEventListener("DOMContentLoaded",function(){e.init(),i.init(),window.Quiz=t})}();